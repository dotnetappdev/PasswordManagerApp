<Window x:Class="PasswordManager.WinUi.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Background="{StaticResource ModernBackgroundBrush}">
        <!-- Login Frame (shown during authentication) -->
        <Frame x:Name="LoginFrame"
               x:FieldModifier="private"
               Background="{StaticResource ModernBackgroundBrush}"
               Visibility="Visible"/>
               
        <!-- Main Navigation View (shown after authentication) -->
        <NavigationView x:Name="MainNavigationView"
                       Style="{StaticResource ModernNavigationViewStyle}"
                       IsBackButtonVisible="Collapsed"
                       IsSettingsVisible="False"
                       IsPaneToggleButtonVisible="True"
                       OpenPaneLength="320"
                       CompactModeThresholdWidth="640"
                       ExpandedModeThresholdWidth="1028"
                       SelectionChanged="MainNavigationView_SelectionChanged"
                       Visibility="Collapsed"
                       Margin="0"
                       Padding="0">
            
            <!-- Search Box -->
            <NavigationView.AutoSuggestBox>
                <AutoSuggestBox x:Name="SearchBox"
                              QueryIcon="Find"
                              PlaceholderText="Search passwords..."
                              TextChanged="SearchBox_TextChanged"
                              QuerySubmitted="SearchBox_QuerySubmitted"
                              MinWidth="200"
                              Style="{StaticResource ModernAutoSuggestBoxStyle}"
                              CornerRadius="20"/>
            </NavigationView.AutoSuggestBox>

            <!-- Header Content -->
            <NavigationView.Header>
                <Grid Height="60" Margin="24,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <!-- App Icon -->
                        <Border Background="{StaticResource ModernPrimaryGradientBrush}"
                               CornerRadius="12"
                               Width="40"
                               Height="40"
                               Margin="0,0,16,0">
                            <FontIcon Glyph="&#xE192;" 
                                     FontSize="20"
                                     Foreground="White"
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Center"/>
                        </Border>
                        
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="Password Manager"
                                      Style="{StaticResource ModernHeading3Style}"/>
                            <TextBlock Text="Secure your digital life"
                                      Style="{StaticResource ModernCaptionStyle}"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </NavigationView.Header>
            
            <!-- Navigation Menu Items -->
            <NavigationView.MenuItems>
                <!-- All Items -->
                <NavigationViewItem x:Name="AllItemsNavItem" 
                                  Content="All Items" 
                                  Tag="AllItems"
                                  Style="{StaticResource ModernNavigationViewItemStyle}">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE8A5;" FontSize="18" Foreground="{StaticResource ModernPrimaryBrush}"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                
                <!-- Favorites -->
                <NavigationViewItem x:Name="FavoritesNavItem" 
                                  Content="Favorites" 
                                  Tag="Favorites"
                                  Style="{StaticResource ModernNavigationViewItemStyle}">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE734;" FontSize="18" Foreground="{StaticResource ModernWarningBrush}"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                
                <NavigationViewItemSeparator Margin="12,8"/>
                
                <!-- Categories Section -->
                <NavigationViewItem Content="Categories" 
                                  IsExpanded="True"
                                  Style="{StaticResource ModernNavigationViewItemStyle}">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE8FD;" FontSize="18" Foreground="{StaticResource ModernAccentBrush}"/>
                    </NavigationViewItem.Icon>
                    <NavigationViewItem.MenuItems>
                        <NavigationViewItem x:Name="LoginCategoryNavItem" 
                                          Content="Logins" 
                                          Tag="LoginCategory"
                                          Style="{StaticResource ModernNavigationViewItemStyle}">
                            <NavigationViewItem.Icon>
                                <FontIcon Glyph="&#xE192;" FontSize="16" Foreground="#3b82f6"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        
                        <NavigationViewItem x:Name="CreditCardCategoryNavItem" 
                                          Content="Credit Cards" 
                                          Tag="CreditCardCategory"
                                          Style="{StaticResource ModernNavigationViewItemStyle}">
                            <NavigationViewItem.Icon>
                                <FontIcon Glyph="&#xE8C7;" FontSize="16" Foreground="#10b981"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        
                        <NavigationViewItem x:Name="SecureNotesCategoryNavItem" 
                                          Content="Secure Notes" 
                                          Tag="SecureNotesCategory"
                                          Style="{StaticResource ModernNavigationViewItemStyle}">
                            <NavigationViewItem.Icon>
                                <FontIcon Glyph="&#xE70F;" FontSize="16" Foreground="#f59e0b"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        
                        <NavigationViewItem x:Name="WiFiCategoryNavItem" 
                                          Content="WiFi Passwords" 
                                          Tag="WiFiCategory"
                                          Style="{StaticResource ModernNavigationViewItemStyle}">
                            <NavigationViewItem.Icon>
                                <FontIcon Glyph="&#xE701;" FontSize="16" Foreground="#8b5cf6"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        
                        <NavigationViewItem x:Name="PasskeysCategoryNavItem" 
                                          Content="Passkeys" 
                                          Tag="PasskeysCategory"
                                          Style="{StaticResource ModernNavigationViewItemStyle}">
                            <NavigationViewItem.Icon>
                                <FontIcon Glyph="&#xE8D7;" FontSize="16" Foreground="#ec4899"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                        
                        <NavigationViewItemSeparator Margin="8,4"/>
                        
                        <NavigationViewItem x:Name="ManageCategoriesNavItem" 
                                          Content="Manage Categories" 
                                          Tag="Categories"
                                          Style="{StaticResource ModernNavigationViewItemStyle}">
                            <NavigationViewItem.Icon>
                                <FontIcon Glyph="&#xE8B8;" FontSize="16" Foreground="{StaticResource ModernTextSecondaryBrush}"/>
                            </NavigationViewItem.Icon>
                        </NavigationViewItem>
                    </NavigationViewItem.MenuItems>
                </NavigationViewItem>
                
                <NavigationViewItemSeparator Margin="12,8"/>
                
                <!-- Tools & Security -->
                <NavigationViewItem x:Name="SecurityAuditNavItem" 
                                  Content="Security Dashboard" 
                                  Tag="SecurityDashboard"
                                  Style="{StaticResource ModernNavigationViewItemStyle}">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE72E;" FontSize="18" Foreground="{StaticResource ModernErrorBrush}"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                
                <!-- Import -->
                <NavigationViewItem x:Name="ImportNavItem" 
                                  Content="Import Data" 
                                  Tag="Import"
                                  Style="{StaticResource ModernNavigationViewItemStyle}">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE8B5;" FontSize="18" Foreground="{StaticResource ModernSuccessBrush}"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>
            
            <!-- Footer Menu Items -->
            <NavigationView.FooterMenuItems>
                <NavigationViewItem x:Name="ArchiveNavItem" 
                                  Content="Archive" 
                                  Tag="Archive"
                                  Style="{StaticResource ModernNavigationViewItemStyle}">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE7B8;" FontSize="16" Foreground="{StaticResource ModernTextSecondaryBrush}"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                
                <NavigationViewItem x:Name="RecentlyDeletedNavItem" 
                                  Content="Recently Deleted" 
                                  Tag="RecentlyDeleted"
                                  Style="{StaticResource ModernNavigationViewItemStyle}">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE74D;" FontSize="16" Foreground="{StaticResource ModernTextSecondaryBrush}"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                
                <NavigationViewItemSeparator Margin="8,4"/>
                
                <NavigationViewItem x:Name="SettingsNavItem" 
                                  Content="Settings" 
                                  Tag="Settings"
                                  Style="{StaticResource ModernNavigationViewItemStyle}">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE713;" FontSize="16" Foreground="{StaticResource ModernTextSecondaryBrush}"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.FooterMenuItems>
            
            <!-- Content Frame -->
            <ScrollViewer ZoomMode="Disabled" 
                         VerticalScrollBarVisibility="Auto"
                         HorizontalScrollBarVisibility="Disabled">
                <Frame x:Name="ContentFrame" 
                       Background="Transparent"/>
            </ScrollViewer>
            
        </NavigationView>
    </Grid>
</Window>