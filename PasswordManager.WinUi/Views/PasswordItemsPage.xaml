<Page x:Class="PasswordManager.WinUi.Views.PasswordItemsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="{StaticResource ModernBackgroundBrush}">

    <!-- 4-Column Layout: Sidebar | Items List | Main Content | Detail Panel -->
    <Grid>
        <Grid.ColumnDefinitions>
            <!-- Sidebar (260px) -->
            <ColumnDefinition Width="260"/>
            <!-- Items List (340px) -->
            <ColumnDefinition Width="340"/>
            <!-- Main Content (flexible) -->
            <ColumnDefinition Width="*"/>
            <!-- Detail Panel (420px) -->
            <ColumnDefinition Width="420"/>
        </Grid.ColumnDefinitions>

        <!-- Column 1: Sidebar with Navigation and Search -->
        <Border Grid.Column="0" 
                Background="{StaticResource ModernSurfaceBrush}"
                BorderBrush="#E2E8F0"
                BorderThickness="0,0,1,0">
            <StackPanel Spacing="16" Margin="20">
                <!-- Page Header -->
                <StackPanel Spacing="12" Margin="0,8,0,0">
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <Border Background="{StaticResource ModernPrimaryGradientBrush}"
                               CornerRadius="12"
                               Width="32"
                               Height="32">
                            <FontIcon Glyph="&#xE192;" 
                                     FontSize="16"
                                     Foreground="White"
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="Password Vault" 
                                      Style="{StaticResource ModernHeading3Style}"/>
                            <TextBlock Text="Secure passwords"
                                      Style="{StaticResource ModernCaptionStyle}"/>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>

                <!-- Search Box -->
                <TextBox x:Name="SidebarSearchBox"
                        PlaceholderText="🔍 Search passwords..."
                        TextChanged="SearchTextBox_TextChanged"
                        Style="{StaticResource ModernTextBoxStyle}"
                        CornerRadius="8"/>

                <!-- Collections -->
                <StackPanel Spacing="8">
                    <TextBlock Text="COLLECTIONS" 
                              Style="{StaticResource ModernCaptionStyle}"
                              FontWeight="SemiBold"
                              Foreground="{StaticResource ModernTextSecondaryBrush}"/>
                    <StackPanel>
                        <!-- All Items -->
                        <Button x:Name="AllItemsButton" 
                               Background="Transparent"
                               BorderThickness="0"
                               HorizontalAlignment="Stretch"
                               HorizontalContentAlignment="Left"
                               Padding="12,8"
                               CornerRadius="8"
                               Click="FilterButton_Click"
                               Tag="All">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <FontIcon Glyph="&#xE8FD;" FontSize="16" Foreground="{StaticResource ModernPrimaryBrush}"/>
                                <TextBlock Text="All Items" FontSize="14"/>
                            </StackPanel>
                        </Button>
                        <!-- Favorites -->
                        <Button Background="Transparent"
                               BorderThickness="0"
                               HorizontalAlignment="Stretch"
                               HorizontalContentAlignment="Left"
                               Padding="12,8"
                               CornerRadius="8"
                               Click="FilterButton_Click"
                               Tag="Favorites">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <FontIcon Glyph="&#xE1CE;" FontSize="16" Foreground="{StaticResource ModernWarningBrush}"/>
                                <TextBlock Text="Favorites" FontSize="14"/>
                            </StackPanel>
                        </Button>
                        <!-- Recently Used -->
                        <Button Background="Transparent"
                               BorderThickness="0"
                               HorizontalAlignment="Stretch"
                               HorizontalContentAlignment="Left"
                               Padding="12,8"
                               CornerRadius="8"
                               Click="FilterButton_Click"
                               Tag="Recent">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <FontIcon Glyph="&#xE81C;" FontSize="16" Foreground="{StaticResource ModernAccentBrush}"/>
                                <TextBlock Text="Recently Used" FontSize="14"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </StackPanel>

                <!-- Types -->
                <StackPanel Spacing="8">
                    <TextBlock Text="TYPES" 
                              Style="{StaticResource ModernCaptionStyle}"
                              FontWeight="SemiBold"
                              Foreground="{StaticResource ModernTextSecondaryBrush}"/>
                    <StackPanel>
                        <!-- Login -->
                        <Button Background="Transparent"
                               BorderThickness="0"
                               HorizontalAlignment="Stretch"
                               HorizontalContentAlignment="Left"
                               Padding="12,8"
                               CornerRadius="8"
                               Click="FilterButton_Click"
                               Tag="Login">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <FontIcon Glyph="&#xE192;" FontSize="16" Foreground="{StaticResource ModernSuccessBrush}"/>
                                <TextBlock Text="Login" FontSize="14"/>
                            </StackPanel>
                        </Button>
                        <!-- Credit Cards -->
                        <Button Background="Transparent"
                               BorderThickness="0"
                               HorizontalAlignment="Stretch"
                               HorizontalContentAlignment="Left"
                               Padding="12,8"
                               CornerRadius="8"
                               Click="FilterButton_Click"
                               Tag="CreditCard">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <FontIcon Glyph="&#xE8C7;" FontSize="16" Foreground="{StaticResource ModernErrorBrush}"/>
                                <TextBlock Text="Credit Cards" FontSize="14"/>
                            </StackPanel>
                        </Button>
                        <!-- Secure Notes -->
                        <Button Background="Transparent"
                               BorderThickness="0"
                               HorizontalAlignment="Stretch"
                               HorizontalContentAlignment="Left"
                               Padding="12,8"
                               CornerRadius="8"
                               Click="FilterButton_Click"
                               Tag="SecureNote">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <FontIcon Glyph="&#xE8A5;" FontSize="16" Foreground="{StaticResource ModernTextSecondaryBrush}"/>
                                <TextBlock Text="Secure Notes" FontSize="14"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </StackPanel>

                <!-- Tags -->
                <StackPanel Spacing="8">
                    <TextBlock Text="TAGS" 
                              Style="{StaticResource ModernCaptionStyle}"
                              FontWeight="SemiBold"
                              Foreground="{StaticResource ModernTextSecondaryBrush}"/>
                    <StackPanel>
                        <Button Background="Transparent"
                               BorderThickness="0"
                               HorizontalAlignment="Stretch"
                               HorizontalContentAlignment="Left"
                               Padding="12,8"
                               CornerRadius="8">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <Border Background="#3b82f6" CornerRadius="3" Width="12" Height="12"/>
                                <TextBlock Text="Work" FontSize="14"/>
                            </StackPanel>
                        </Button>
                        <Button Background="Transparent"
                               BorderThickness="0"
                               HorizontalAlignment="Stretch"
                               HorizontalContentAlignment="Left"
                               Padding="12,8"
                               CornerRadius="8">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <Border Background="#ef4444" CornerRadius="3" Width="12" Height="12"/>
                                <TextBlock Text="Personal" FontSize="14"/>
                            </StackPanel>
                        </Button>
                        <Button Background="Transparent"
                               BorderThickness="0"
                               HorizontalAlignment="Stretch"
                               HorizontalContentAlignment="Left"
                               Padding="12,8"
                               CornerRadius="8">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <Border Background="#10b981" CornerRadius="3" Width="12" Height="12"/>
                                <TextBlock Text="Finance" FontSize="14"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Column 2: Items List with Category Dropdown -->
        <Border Grid.Column="1"
                Background="{StaticResource ModernSurfaceBrush}"
                BorderBrush="#E2E8F0"
                BorderThickness="0,0,1,0">
            <StackPanel>
                <!-- Category Dropdown Header -->
                <Border Background="{StaticResource ModernCardBrush}"
                        BorderBrush="#E2E8F0"
                        BorderThickness="0,0,0,1"
                        Padding="16,12">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <ComboBox x:Name="CategoryDropdown"
                                 Grid.Column="0"
                                 PlaceholderText="All Categories"
                                 Style="{StaticResource ModernComboBoxStyle}"
                                 HorizontalAlignment="Stretch"
                                 CornerRadius="6"
                                 FontSize="15"
                                 FontWeight="SemiBold"
                                 SelectionChanged="CategoryDropdown_SelectionChanged">
                            <ComboBoxItem Content="All Categories"/>
                            <ComboBoxItem Content="Logins"/>
                            <ComboBoxItem Content="Credit Cards"/>
                            <ComboBoxItem Content="Secure Notes"/>
                            <ComboBoxItem Content="WiFi"/>
                            <ComboBoxItem Content="Work"/>
                            <ComboBoxItem Content="Personal"/>
                            <ComboBoxItem Content="Finance"/>
                        </ComboBox>
                        
                        <Button x:Name="AddCategoryButton"
                               Grid.Column="1"
                               Background="Transparent"
                               BorderThickness="0"
                               Width="32"
                               Height="32"
                               CornerRadius="6"
                               Margin="8,0,0,0"
                               Click="AddButton_Click">
                            <FontIcon Glyph="&#xE109;" FontSize="16" Foreground="{StaticResource ModernPrimaryBrush}"/>
                        </Button>
                    </Grid>
                </Border>

                <!-- Items List -->
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ListView x:Name="ItemsList"
                             ItemsSource="{Binding PasswordItems}"
                             SelectionMode="Single"
                             SelectionChanged="ItemsList_SelectionChanged">
                        
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <Grid Margin="0,4" Height="60">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <!-- Item Icon -->
                                    <Border Grid.Column="0"
                                           Background="{StaticResource ModernPrimaryGradientBrush}"
                                           CornerRadius="8"
                                           Width="40"
                                           Height="40"
                                           Margin="16,0,12,0"
                                           VerticalAlignment="Center">
                                        <TextBlock Text="{Binding Type, Converter={StaticResource TypeToIconConverter}}"
                                                  FontSize="18"
                                                  Foreground="White"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                                    </Border>
                                    
                                    <!-- Item Info -->
                                    <StackPanel Grid.Column="1" 
                                               VerticalAlignment="Center" 
                                               Spacing="2"
                                               Margin="0,0,16,0">
                                        <TextBlock Text="{Binding Title}" 
                                                  FontSize="15"
                                                  FontWeight="SemiBold"
                                                  TextTrimming="CharacterEllipsis"
                                                  Foreground="{StaticResource ModernTextPrimaryBrush}"/>
                                        <TextBlock Text="{Binding Username}" 
                                                  FontSize="13"
                                                  TextTrimming="CharacterEllipsis"
                                                  Foreground="{StaticResource ModernTextSecondaryBrush}"
                                                  Visibility="{Binding Username, Converter={StaticResource StringToVisibilityConverter}}"/>
                                    </StackPanel>
                                </Grid>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                        
                        <ListView.ItemContainerStyle>
                            <Style TargetType="ListViewItem">
                                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                <Setter Property="Padding" Value="0"/>
                                <Setter Property="Margin" Value="0"/>
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="BorderThickness" Value="0"/>
                            </Style>
                        </ListView.ItemContainerStyle>
                    </ListView>
                </ScrollViewer>
            </StackPanel>
        </Border>

        <!-- Column 3: Main Content - Item Cards Display -->
        <ScrollViewer Grid.Column="2" 
                     ZoomMode="Disabled" 
                     VerticalScrollBarVisibility="Auto"
                     HorizontalScrollBarVisibility="Disabled">
            <StackPanel Spacing="16" Margin="20">
                <!-- Action Bar -->
                <Grid Margin="0,8,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel Grid.Column="0" Spacing="4">
                        <TextBlock x:Name="ContentTitle"
                                  Text="All Items" 
                                  Style="{StaticResource ModernHeading3Style}"/>
                        <TextBlock x:Name="ContentSubtitle"
                                  Text="Showing all password items"
                                  Style="{StaticResource ModernCaptionStyle}"/>
                    </StackPanel>
                    
                    <Button x:Name="AddButton"
                           Grid.Column="1"
                           Style="{StaticResource ModernPrimaryButtonStyle}"
                           Click="AddButton_Click">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE109;" FontSize="14"/>
                            <TextBlock Text="Add Password"/>
                        </StackPanel>
                    </Button>
                </Grid>

                <!-- Password Items Grid -->
                <Grid MinHeight="400">
                    <!-- Loading Indicator -->
                    <Border HorizontalAlignment="Center" 
                           VerticalAlignment="Center"
                           Padding="48"
                           Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}">
                        <StackPanel Spacing="20" HorizontalAlignment="Center">
                            <ProgressRing IsActive="True" Width="48" Height="48"/>
                            <TextBlock Text="Loading your passwords..." 
                                      Style="{StaticResource ModernBodyStyle}"
                                      HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- Password Items Cards -->
                    <GridView x:Name="PasswordCardsView"
                             ItemsSource="{Binding PasswordItems}"
                             Visibility="{Binding IsLoading, Converter={StaticResource InverseBoolToVisibilityConverter}}"
                             SelectionMode="Single"
                             SelectionChanged="PasswordCardsView_SelectionChanged">
                        
                        <GridView.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VariableSizedWrapGrid Orientation="Horizontal" 
                                                      ItemWidth="280" 
                                                      ItemHeight="120"/>
                            </ItemsPanelTemplate>
                        </GridView.ItemsPanel>
                        
                        <GridView.ItemTemplate>
                            <DataTemplate>
                                <Border Background="{StaticResource ModernCardBrush}"
                                       CornerRadius="12"
                                       BorderBrush="#E2E8F0"
                                       BorderThickness="1"
                                       Padding="16"
                                       Width="270"
                                       Height="110">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        
                                        <!-- Header -->
                                        <Grid Grid.Row="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <Border Grid.Column="0"
                                                   Background="{StaticResource ModernPrimaryGradientBrush}"
                                                   CornerRadius="6"
                                                   Width="24"
                                                   Height="24">
                                                <TextBlock Text="{Binding Type, Converter={StaticResource TypeToIconConverter}}"
                                                          FontSize="12"
                                                          Foreground="White"
                                                          HorizontalAlignment="Center"
                                                          VerticalAlignment="Center"/>
                                            </Border>
                                            
                                            <Border Grid.Column="2"
                                                   Background="{StaticResource ModernWarningBrush}"
                                                   CornerRadius="4"
                                                   Width="16"
                                                   Height="16"
                                                   Visibility="{Binding IsFavorite, Converter={StaticResource BoolToVisibilityConverter}}">
                                                <FontIcon Glyph="&#xE1CE;" 
                                                         FontSize="8"
                                                         Foreground="White"
                                                         HorizontalAlignment="Center"
                                                         VerticalAlignment="Center"/>
                                            </Border>
                                        </Grid>
                                        
                                        <!-- Content -->
                                        <StackPanel Grid.Row="1" 
                                                   VerticalAlignment="Center" 
                                                   Spacing="4"
                                                   Margin="0,8">
                                            <TextBlock Text="{Binding Title}" 
                                                      FontSize="15"
                                                      FontWeight="SemiBold"
                                                      TextTrimming="CharacterEllipsis"
                                                      Foreground="{StaticResource ModernTextPrimaryBrush}"/>
                                            <TextBlock Text="{Binding Username}" 
                                                      FontSize="13"
                                                      TextTrimming="CharacterEllipsis"
                                                      Foreground="{StaticResource ModernTextSecondaryBrush}"
                                                      Visibility="{Binding Username, Converter={StaticResource StringToVisibilityConverter}}"/>
                                        </StackPanel>
                                        
                                        <!-- Footer -->
                                        <TextBlock Grid.Row="2"
                                                  Text="{Binding LastModified, Converter={StaticResource DateTimeFormatConverter}, ConverterParameter='MMM dd'}"
                                                  FontSize="11"
                                                  Foreground="{StaticResource ModernTextTertiaryBrush}"/>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </GridView.ItemTemplate>
                        
                        <GridView.ItemContainerStyle>
                            <Style TargetType="GridViewItem">
                                <Setter Property="Margin" Value="0,0,12,12"/>
                                <Setter Property="Padding" Value="0"/>
                            </Style>
                        </GridView.ItemContainerStyle>
                    </GridView>
                    
                    <!-- Empty State -->
                    <Border HorizontalAlignment="Center" 
                           VerticalAlignment="Center"
                           Padding="48"
                           Visibility="{Binding HasNoItems, Converter={StaticResource BoolToVisibilityConverter}}">
                        <StackPanel Spacing="20" HorizontalAlignment="Center">
                            <Border Background="{StaticResource ModernPrimaryGradientBrush}"
                                   CornerRadius="24"
                                   Width="80"
                                   Height="80"
                                   HorizontalAlignment="Center">
                                <FontIcon Glyph="&#xE192;" 
                                         FontSize="36"
                                         Foreground="White"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center"/>
                            </Border>
                            
                            <StackPanel Spacing="8" HorizontalAlignment="Center">
                                <TextBlock Text="No passwords found" 
                                          Style="{StaticResource ModernHeading3Style}"
                                          HorizontalAlignment="Center"/>
                                <TextBlock Text="Create your first password item to get started" 
                                          Style="{StaticResource ModernCaptionStyle}"
                                          HorizontalAlignment="Center"/>
                            </StackPanel>

                            <Button Style="{StaticResource ModernPrimaryButtonStyle}"
                                   Click="AddButton_Click">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <FontIcon Glyph="&#xE109;" FontSize="16"/>
                                    <TextBlock Text="Add Your First Password"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Border>
                </Grid>
            </StackPanel>
        </ScrollViewer>

        <!-- Column 4: Detail Panel -->
        <Border Grid.Column="3"
                Background="{StaticResource ModernSurfaceBrush}">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel x:Name="DetailPanel" 
                           Spacing="16" 
                           Margin="20"
                           Visibility="Collapsed">
                    
                    <!-- Detail Header -->
                    <Grid Margin="0,8,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0" Spacing="4">
                            <TextBlock x:Name="DetailTitle"
                                      Text="Item Details" 
                                      Style="{StaticResource ModernHeading3Style}"/>
                            <TextBlock x:Name="DetailSubtitle"
                                      Text="View and manage item details"
                                      Style="{StaticResource ModernCaptionStyle}"/>
                        </StackPanel>
                        
                        <Button x:Name="EditDetailButton"
                               Grid.Column="1"
                               Style="{StaticResource ModernSecondaryButtonStyle}"
                               Click="EditMenuItem_Click">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE70F;" FontSize="14"/>
                                <TextBlock Text="Edit"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <!-- Detail Content -->
                    <Border Style="{StaticResource ModernCardStyle}">
                        <StackPanel Spacing="16">
                            <!-- Item Icon and Title -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <Border Grid.Column="0"
                                       Background="{StaticResource ModernPrimaryGradientBrush}"
                                       CornerRadius="12"
                                       Width="48"
                                       Height="48"
                                       Margin="0,0,16,0">
                                    <TextBlock x:Name="DetailIcon"
                                              Text="🔑"
                                              FontSize="24"
                                              Foreground="White"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                                </Border>
                                
                                <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="4">
                                    <TextBlock x:Name="DetailItemTitle"
                                              Text="Select an item to view details" 
                                              FontSize="16"
                                              FontWeight="SemiBold"
                                              TextTrimming="CharacterEllipsis"/>
                                    <TextBlock x:Name="DetailItemSubtitle"
                                              Text="Choose from the items list or cards"
                                              FontSize="13"
                                              Foreground="{StaticResource ModernTextSecondaryBrush}"
                                              TextTrimming="CharacterEllipsis"/>
                                </StackPanel>
                            </Grid>
                            
                            <!-- Detail Fields -->
                            <StackPanel x:Name="DetailFields" Spacing="16">
                                <!-- Username -->
                                <StackPanel Spacing="8">
                                    <TextBlock Text="Username" 
                                              FontWeight="SemiBold"
                                              FontSize="14"
                                              Foreground="{StaticResource ModernTextPrimaryBrush}"/>
                                    <Border Background="{StaticResource ModernBackgroundBrush}"
                                           BorderBrush="#E2E8F0"
                                           BorderThickness="1"
                                           CornerRadius="8"
                                           Padding="12,8">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock x:Name="DetailUsername"
                                                      Grid.Column="0"
                                                      Text=""
                                                      FontSize="14"
                                                      VerticalAlignment="Center"
                                                      TextTrimming="CharacterEllipsis"/>
                                            <Button Grid.Column="1"
                                                   Background="Transparent"
                                                   BorderThickness="0"
                                                   Padding="8"
                                                   ToolTipService.ToolTip="Copy username">
                                                <FontIcon Glyph="&#xE8C8;" FontSize="14" Foreground="{StaticResource ModernPrimaryBrush}"/>
                                            </Button>
                                        </Grid>
                                    </Border>
                                </StackPanel>
                                
                                <!-- Password -->
                                <StackPanel Spacing="8">
                                    <TextBlock Text="Password" 
                                              FontWeight="SemiBold"
                                              FontSize="14"
                                              Foreground="{StaticResource ModernTextPrimaryBrush}"/>
                                    <Border Background="{StaticResource ModernBackgroundBrush}"
                                           BorderBrush="#E2E8F0"
                                           BorderThickness="1"
                                           CornerRadius="8"
                                           Padding="12,8">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock x:Name="DetailPassword"
                                                      Grid.Column="0"
                                                      Text="••••••••••"
                                                      FontSize="14"
                                                      VerticalAlignment="Center"/>
                                            <Button Grid.Column="1"
                                                   Background="Transparent"
                                                   BorderThickness="0"
                                                   Padding="8"
                                                   ToolTipService.ToolTip="Show/hide password">
                                                <FontIcon Glyph="&#xE7B3;" FontSize="14" Foreground="{StaticResource ModernTextSecondaryBrush}"/>
                                            </Button>
                                            <Button Grid.Column="2"
                                                   Background="Transparent"
                                                   BorderThickness="0"
                                                   Padding="8"
                                                   ToolTipService.ToolTip="Copy password">
                                                <FontIcon Glyph="&#xE8C8;" FontSize="14" Foreground="{StaticResource ModernPrimaryBrush}"/>
                                            </Button>
                                        </Grid>
                                    </Border>
                                </StackPanel>
                                
                                <!-- Website -->
                                <StackPanel Spacing="8">
                                    <TextBlock Text="Website" 
                                              FontWeight="SemiBold"
                                              FontSize="14"
                                              Foreground="{StaticResource ModernTextPrimaryBrush}"/>
                                    <Border Background="{StaticResource ModernBackgroundBrush}"
                                           BorderBrush="#E2E8F0"
                                           BorderThickness="1"
                                           CornerRadius="8"
                                           Padding="12,8">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock x:Name="DetailWebsite"
                                                      Grid.Column="0"
                                                      Text=""
                                                      FontSize="14"
                                                      VerticalAlignment="Center"
                                                      TextTrimming="CharacterEllipsis"/>
                                            <Button Grid.Column="1"
                                                   Background="Transparent"
                                                   BorderThickness="0"
                                                   Padding="8"
                                                   ToolTipService.ToolTip="Open website">
                                                <FontIcon Glyph="&#xE774;" FontSize="14" Foreground="{StaticResource ModernPrimaryBrush}"/>
                                            </Button>
                                        </Grid>
                                    </Border>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Quick Actions -->
                    <Border Style="{StaticResource ModernCardStyle}">
                        <StackPanel Spacing="12">
                            <TextBlock Text="Quick Actions" 
                                      FontWeight="SemiBold"
                                      FontSize="14"
                                      Foreground="{StaticResource ModernTextPrimaryBrush}"/>
                            
                            <StackPanel Spacing="8">
                                <Button HorizontalAlignment="Stretch"
                                       HorizontalContentAlignment="Left"
                                       Background="Transparent"
                                       BorderThickness="0"
                                       Padding="12,8"
                                       CornerRadius="8">
                                    <StackPanel Orientation="Horizontal" Spacing="12">
                                        <FontIcon Glyph="&#xE1CE;" FontSize="16" Foreground="{StaticResource ModernWarningBrush}"/>
                                        <TextBlock Text="Add to Favorites" FontSize="14"/>
                                    </StackPanel>
                                </Button>
                                
                                <Button HorizontalAlignment="Stretch"
                                       HorizontalContentAlignment="Left"
                                       Background="Transparent"
                                       BorderThickness="0"
                                       Padding="12,8"
                                       CornerRadius="8">
                                    <StackPanel Orientation="Horizontal" Spacing="12">
                                        <FontIcon Glyph="&#xE8FD;" FontSize="16" Foreground="{StaticResource ModernPrimaryBrush}"/>
                                        <TextBlock Text="Organize" FontSize="14"/>
                                    </StackPanel>
                                </Button>
                                
                                <Button HorizontalAlignment="Stretch"
                                       HorizontalContentAlignment="Left"
                                       Background="Transparent"
                                       BorderThickness="0"
                                       Padding="12,8"
                                       CornerRadius="8">
                                    <StackPanel Orientation="Horizontal" Spacing="12">
                                        <FontIcon Glyph="&#xE72D;" FontSize="16" Foreground="{StaticResource ModernAccentBrush}"/>
                                        <TextBlock Text="Share" FontSize="14"/>
                                    </StackPanel>
                                </Button>
                                
                                <Button HorizontalAlignment="Stretch"
                                       HorizontalContentAlignment="Left"
                                       Background="Transparent"
                                       BorderThickness="0"
                                       Padding="12,8"
                                       CornerRadius="8"
                                       Click="DeleteMenuItem_Click">
                                    <StackPanel Orientation="Horizontal" Spacing="12">
                                        <FontIcon Glyph="&#xE74D;" FontSize="16" Foreground="{StaticResource ModernErrorBrush}"/>
                                        <TextBlock Text="Delete" FontSize="14" Foreground="{StaticResource ModernErrorBrush}"/>
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Page>